<!DOCTYPE html>
<html lang="en" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="utf-8" />
    <meta name="keywords" content="">

    <title>ReevaluateControlExpressionsOnRelevantValueChangeOnly</title>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/toc.css" />
    <link rel="stylesheet" href="assets/css/highlight.css" />
    <link rel="stylesheet" href="assets/css/prism.css" />
    <link rel="stylesheet" href="assets/css/prism-csdiff.css" />


    <link rel="stylesheet" href="assets/css/theme_firefly.css" />
    <link rel="stylesheet" href="assets/css/mermaid.css" />
</head>

<body class="markdown-body" role="document">
    <div class="wrapper">

        <div class="middle">

            <div class="container">

                <div class="content" role="navigation" aria-label="footer navigation">
                    <a id="previousButton" class="btn btn-neutral float-left" style="visibility:hidden">Previous</a>
                    <a id="nextButton" class="btn btn-neutral float-right" style="visibility:hidden">Next</a>
                </div>
                <div class="content"><h1 id="reevaluatecontrolexpressionsonrelevantvaluechangeonly">ReevaluateControlExpressionsOnRelevantValueChangeOnly</h1>
<p>﻿This article explains the performance problem presented in the <a href="using-the-profiler-to-investigate-non-database-related-performance-issues.html">Using the Profiler to Investigate non database Related Performance Issues</a> article.</p>
<p>In application that were migrated from magic versions prior to XPA, all the expressions used on the <code>View</code> of a <code>Controller</code> were
re-evaluated after an update of <strong>any</strong> <code>Column</code> in the <code>Controller</code>.</p>
<p>This can have a performance cost. In the example used in this article's video, we can see that the <code>BindVisible</code> method was evaluated 4314 times, just by the &quot;Update Parent Total&quot; part of the <code>OnLeaveRow</code> (while being totally irrelenat to the <code>BindVisible</code> method or values)
<img src="2017-03-30_18h23_21.png" alt="2017 03 30 18H23 21" /></p>
<p>We can control this behavior, by changing the <code>Form</code> property called <code>ReevaluateControlExpressionsOnRelevantValueChangeOnly</code> to <code>true</code><br />
<img src="2017-03-30_18h19_33.png" alt="2017 03 30 18H19 33" /></p>
<p>This property means that an <code>Expression</code> for a <code>Control</code> on the <code>Form</code> will only be re-evaluated if a column that was used in that expression was changed.</p>
<p>This has a positive affect on the process, essentially removing thousands of expression evaluations, improving our process by a factor of 10.<br />
<img src="2017-03-30_18h22_44.png" alt="2017 03 30 18H22 44" /></p>
<blockquote>
<p>Note that this property might also have side effects. If you have an expression that is based on a Column from another <code>Controller</code>, or not based on a column at all (ie <code>GetParam</code> or <code>Time</code>) it will not get evaluated.</p>
</blockquote>
<iframe width="560" height="315" src="https://www.youtube.com/embed/wxJfeSuRRqc?list=PL1DEQjXG2xnJYzlRYRjwUfqSc4Kx0yarM" frameborder="0" allowfullscreen></iframe>



                        <a id="previousButton" class="btn btn-neutral float-left" style="visibility:hidden">Previous</a>

                        <a id="nextButton" class="btn btn-neutral" style="visibility:hidden;float:right">Next</a>
                    <hr />Help us improve,
                    <a href="https://github.com/FireflyMigration/firefly-doc/blob/master//01-Development/02-Articles/01-Improve-Performance/10-Using-the-Profiler-to-investigate-non-database-related-performance-issues/02-ReevaluateControlExpressionsOnRelevantValueChangeOnly.md" target="_blank">Edit this page on GitHub</a>
                    <br /> or email us at
                    <a href="mailto:info@fireflymigration.com?Subject=Firefly%20Documentation%20Website" target="_top">info@fireflymigration.com</a>
                </div>

                <!-- .content -->




            </div>
            <!-- .container-->

            <aside class="left-sidebar">
                <div class="wy-side-nav-search-ff">
                    <a href="" class="test">
                        <img src="assets/img/logo-big.png">
                    </a>
                </div>
                <div id="menuTree" </div>
            </aside>
            <!-- .left-sidebar -->

            <aside class="right-sidebar"></aside>
            <!-- .right-sidebar -->

            </div>
            <!-- .middle-->



        </div>


        <script src="assets/js/mermaid.js"></script>
        <script src="assets/js/prism-start.js"></script>
        <script src="assets/js/prism-clike.js"></script>
        <script src="assets/js/prism-markup.js"></script>
        <script src="assets/js/prism-css.js"></script>
        <script src="assets/js/prism-javascript.js"></script>

        <script src="assets/js/prism-diff.js"></script>
        <script src="assets/js/prism-csdiff.js"></script>
        <script src="assets/js/prism-function.js"></script>

        <script src="assets/js/jquery-3.1.1.js"></script>


        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-4806432-3', 'auto');
            ga('send', 'pageview');

        </script>
        <script src="assets/js/tree.js"></script>
        <script language="javascript">
            buildTree('menuTree', 'reevaluatecontrolexpressionsonrelevantvaluechangeonly.html', 'previousButton', 'nextButton');
        </script>
</body>

</html>