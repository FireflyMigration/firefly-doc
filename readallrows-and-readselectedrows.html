<!DOCTYPE html>
<html lang="en" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" />
    <meta name="keywords" content="ReadAllRows, ReadSelectedRows">

    <title>ReadAllRows</title>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/toc.css" />
    <link rel="stylesheet" href="assets/css/highlight.css" />
    <link rel="stylesheet" href="assets/css/prism.css" />
    <link rel="stylesheet" href="assets/css/prism-csdiff.css" />


    <link rel="stylesheet" href="assets/css/theme_firefly.css" />
    <link rel="stylesheet" href="assets/css/mermaid.css" />
</head>

<body class="markdown-body" role="document">
    <div class="wrapper" id="root">
        <div class="backdrop"></div>
        <div class="top-bar" role="navigation" aria-label="footer navigation">
            <div style="display:flex;">
                <div>
                    <a id="menu" class="btn btn-neutral">&#9776; </a>
                </div>
                <img src="assets/img/logo-big.png">
            </div>
            <div>
                <a id="previousButton" class="btn btn-neutral" style="visibility:hidden">Previous</a>
                <a id="nextButton" class="btn btn-neutral" style="visibility:hidden">Next</a>
            </div>
        </div>
        <div class="middle">

            <div class="container">

                <div class="content"><h1 id="readallrows">ReadAllRows</h1>
<h2 id="the-problem">The Problem</h2>
<p>In many cases we need to iterate all the rows that are currently displayed on the screen.
For example, suppose we have a list of orders, we may want to sum the freight of all the orders in the grid.
Notice that the list may be filtered by a calculated value (i.e. estimated shipping date)
or by a value from a relation (i.e. shipping company name).
We need to take this filter into account when summing the freight.
<img src="2018-07-10_13h29_47.png" alt="2018 07 10 13H29 47" /></p>
<h2 id="the-readallrows-method">The ReadAllRows Method</h2>
<p>In the migrated application, every controller has a method named ReadAllRows, which iterates all the rows that are currently part of the controller's data view.
This methods accepts an action, in which we can do whatever we want with each row. We can update the rows values, print it or just count it.
Here is an example for summing the freight:</p>
<pre data-line="11,12,13,14,15,16" class="language-csdiff line-numbers"><code>public class DemoReadAllRows : UIControllerBase
{
    public readonly Models.Orders orders = new Models.Orders();

    public DemoReadAllRows()
    {
        From = orders;
        Where.Add(orders.OrderDate.IsGreaterOrEqualTo(new Date(1997, 1, 1)));
    }

     public void SumFreight()
     {
         Number sum = 0;
         ReadAllRows(() =&gt; sum += orders.Freight);
         MessageBox.Show(sum.ToString());
     } </code></pre>
<h1 id="readselectedrows">ReadSelectedRows</h1>
<p>In case we need to sum only the selected rows, we can use the grid method &quot;ReadSelectedRows&quot;. For example, the user selects the first 3 rows:
<img src="2018-07-10_13h31_51.png" alt="2018 07 10 13H31 51" /></p>
<p>Here is the code for summing just the selected rows:</p>
<pre data-line="" class="language-csdiff line-numbers"><code>        private void btnSumSelectedFreight_Click(object sender, ButtonClickEventArgs e)
        {
            Number sum = 0;
            grid1.ReadSelectedRows(() =&gt; sum += _controller.orders.Freight);
            MessageBox.Show(sum.ToString());
        } </code></pre>



                    <hr />Help us improve,
                    <a href="https://github.com/FireflyMigration/firefly-doc/blob/master//30-Maintaining-the-Migrated-Application/ReadAllRows and ReadSelectedRows/index.md" target="_blank">Edit this page on GitHub</a>
                    <br /> or email us at
                    <a href="mailto:info@fireflymigration.com?Subject=Firefly%20Documentation%20Website" target="_top">info@fireflymigration.com</a>
                </div>

                <!-- .content -->




            </div>
            <!-- .container-->

            <aside class="left-sidebar">
                <div class="wy-side-nav-search-ff">
                    <a href="" class="test">
                        
                    </a>
                </div>
                <div id="menuTree" </div>
            </aside>
            <!-- .left-sidebar -->

            <aside class="right-sidebar"></aside>
            <!-- .right-sidebar -->

            </div>
            <!-- .middle-->



        </div>


        <script src="assets/js/mermaid.js"></script>
        <script src="assets/js/prism-start.js"></script>
        <script src="assets/js/prism-clike.js"></script>
        <script src="assets/js/prism-markup.js"></script>
        <script src="assets/js/prism-css.js"></script>
        <script src="assets/js/prism-javascript.js"></script>

        <script src="assets/js/prism-diff.js"></script>
        <script src="assets/js/prism-csdiff.js"></script>
        <script src="assets/js/prism-function.js"></script>

        <script src="assets/js/jquery-3.1.1.js"></script>


        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-4806432-3', 'auto');
            ga('send', 'pageview');

        </script>
        <script src="assets/js/tree.js"></script>
        <script language="javascript">
            buildTree('menuTree', 'readallrows-and-readselectedrows.html', 'previousButton', 'nextButton');
        </script>
</body>

</html>