<!DOCTYPE html>
<html lang="en" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="utf-8" />
    <meta name="keywords" content="plugin, dependency injection, abstract factories">

    <title>Creating Different code for different Clients</title>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/toc.css" />
    <link rel="stylesheet" href="assets/css/highlight.css" />
    <link rel="stylesheet" href="assets/css/prism.css" />
    <link rel="stylesheet" href="assets/css/prism-csdiff.css" />


    <link rel="stylesheet" href="assets/css/theme_firefly.css" />
    <link rel="stylesheet" href="assets/css/mermaid.css" />
</head>

<body class="markdown-body" role="document">
    <div class="wrapper">

        <div class="middle">

            <div class="container">

                <div class="content" role="navigation" aria-label="footer navigation">
                    <a id="previousButton" class="btn btn-neutral float-left" style="visibility:hidden">Previous</a>
                    <a id="nextButton" class="btn btn-neutral float-right" style="visibility:hidden">Next</a>
                </div>
                <div class="content"><h1 id="creating-different-code-for-different-clients">Creating Different code for different Clients</h1>
<p>For software houses that maintain a product, there is the common problem of customer specific code.<br />
Sometimes we need to create some specific implementation of a specific program for a specific client.
The migrated code is designed using a plugin architecture, that allows you to implement this with ease.</p>
<p>We'll start by creating a new exe project that the customer will use - and call the original Northwind application.</p>
<p>Then we'll create our own client specific implementation of the <code>ShowCustomers</code> screen.</p>
<p>We'll register the new Controller with the <code>AbstractFactory</code> to return the customer implementation.</p>
<h1 id="creating-the-client-specific-exe-project">Creating the Client specific exe project</h1>
<ol>
<li>Add a new winforms project called 'Northwind.AClient'</li>
<li>Delete 'Form.cs' and 'App.Config' as we don't need them.</li>
<li>Delete the lines in the <code>Main</code> method in the <code>Program</code> class - we'll replace them later.</li>
<li>Change the build output to '..\bin' for both debug and release.</li>
<li>Add references:
<ul>
<li>From the <code>Browse</code> tab, select from the project's <code>bin</code> directory the following dlls:
<ol>
<li>ENV</li>
<li>Firefly.Box</li>
<li>NorthwindBase</li>
<li>(Northwind.Share for larger migrated solutions)</li>
</ol>
</li>
</ul>
</li>
</ol>
<blockquote>
<p>For more information see: <a href="creating-different-code-for-different-clients.html">Adding a new project to a migrated solution</a></p>
</blockquote>
<ol start="5">
<li>change the program main to call the original Program main.</li>
</ol>
<pre data-line="10,12" class="language-csdiff line-numbers"><code>namespace Northwind.NewCustomer
{
    static class Program
    {
        /// &lt;summary&gt;
        /// The main entry point for the application.
        /// &lt;/summary&gt;
        [STAThread]
-       static void Main()
        static void Main(string[] args)
        {
            Northwind.Program.Main(args);
        }
    }
} </code></pre>
<iframe width="560" height="315" src="https://www.youtube.com/embed/3slAqvZRCVY" frameborder="0" allowfullscreen></iframe>
<ul>
<li><a href="adding-a-customer-specific-implementation-of-a-controller.html">Adding a customer specific implementation of a controller</a></li>
<li><a href="adding-a-customer-specific-implementation-of-smaller-bits-of-code.html">Adding a customer specific implementation of smaller bits of code</a></li>
</ul>



                        <a id="previousButton" class="btn btn-neutral float-left" style="visibility:hidden">Previous</a>

                        <a id="nextButton" class="btn btn-neutral" style="visibility:hidden;float:right">Next</a>
                    <hr />Help us improve,
                    <a href="https://github.com/FireflyMigration/firefly-doc/blob/master/30-Maintaining-the-Migrated-Application/Creating-Different-code-for-different-Clients/10-index.md" target="_blank">Edit this page on GitHub</a>
                    <br /> or email us at
                    <a href="mailto:info@fireflymigration.com?Subject=Firefly%20Documentation%20Website" target="_top">info@fireflymigration.com</a>
                </div>

                <!-- .content -->




            </div>
            <!-- .container-->

            <aside class="left-sidebar">
                <div class="wy-side-nav-search-ff">
                    <a href="" class="test">
                        <img src="assets/img/logo-big.png">
                    </a>
                </div>
                <div id="menuTree" </div>
            </aside>
            <!-- .left-sidebar -->

            <aside class="right-sidebar"></aside>
            <!-- .right-sidebar -->

            </div>
            <!-- .middle-->



        </div>


        <script src="assets/js/mermaid.js"></script>
        <script src="assets/js/prism-start.js"></script>
        <script src="assets/js/prism-clike.js"></script>
        <script src="assets/js/prism-markup.js"></script>
        <script src="assets/js/prism-css.js"></script>
        <script src="assets/js/prism-javascript.js"></script>

        <script src="assets/js/prism-diff.js"></script>
        <script src="assets/js/prism-csdiff.js"></script>
        <script src="assets/js/prism-function.js"></script>

        <script src="assets/js/jquery-3.1.1.js"></script>


        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-4806432-3', 'auto');
            ga('send', 'pageview');

        </script>
        <script src="assets/js/tree.js"></script>
        <script language="javascript">
            buildTree('menuTree', 'creating-different-code-for-different-clients.html', 'previousButton', 'nextButton');
        </script>
</body>

</html>