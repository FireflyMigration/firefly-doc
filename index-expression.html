<!DOCTYPE html>
<html lang="en" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="utf-8" />
    <meta name="keywords" content="BindOrderBy">

    <title>Index Expression</title>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/toc.css" />
    <link rel="stylesheet" href="assets/css/highlight.css" />
    <link rel="stylesheet" href="assets/css/prism.css" />
    <link rel="stylesheet" href="assets/css/prism-csdiff.css" />


    <link rel="stylesheet" href="assets/css/theme_firefly.css" />
    <link rel="stylesheet" href="assets/css/mermaid.css" />
</head>

<body class="markdown-body" role="document">
    <div class="wrapper">

        <div class="middle">

            <div class="container">

                <div class="content" role="navigation" aria-label="footer navigation">
                    <a id="previousButton" class="btn btn-neutral float-left" style="visibility:hidden">Previous</a>
                    <a id="nextButton" class="btn btn-neutral float-right" style="visibility:hidden">Next</a>
                </div>
                <div class="content">
                    <h1 id="index-expression">Index Expression</h1>
<h3 id="for-businessprocess">For BusinessProcess</h3>
<p>Name in Migrated Code: <strong>OrderBy</strong><br />
Location in Migrated Code: <strong>OnLoad Method</strong></p>
<p>Example :</p>
<pre data-line="" class="language-csdiff line-numbers"><code>protected override void OnLoad()
{
    OrderBy = Customers.Indexes[u.If(v_Indicator == 1,
        Category.Indexes.IndexOf(Category.SortByCategoryID), 
        Category.Indexes.IndexOf(Category.SortByCategoryName))];
} </code></pre>
<h3 id="for-uicontroller">For UIController</h3>
<p>Name in Migrated Code: <strong>BindOrderBy</strong><br />
Location in Migrated Code: <strong>InitializeDataView Method</strong></p>
<p>In UIController we use the <code>BindOrderBy</code> instead of a simple set to the <code>OrderBy</code> because this expression is evaluated during the execution of the UIController in cases of ReloadData and other cases.</p>
<p>Example:</p>
<pre data-line="" class="language-csdiff line-numbers"><code>protected override void InitializeDataView()
{
    BindOrderBy(() =&gt; Customers.Indexes[u.If(v_Indicator == 1,
        Category.Indexes.IndexOf(Category.SortByCategoryID), 
        Category.Indexes.IndexOf(Category.SortByCategoryName))]);
} </code></pre>
<h2 id="development-post-migration">Development post migration</h2>
<p>In new code that we'll write after the migration we can write this with much easier syntax.</p>
<p>First - we don't need the index stuff - the <code>IndexOf</code> method is backward compatible to '1'Key in magic or the '1'Index in unipaas/xpa.
So this can be written:</p>
<pre data-line="3" class="language-csdiff line-numbers"><code>protected override void OnLoad()
{
    OrderBy = u.If(v_Indicator == 1,Category.SortByCategoryID, Category.SortByCategoryName);
} </code></pre>
<p>Also - I would much rather use an If statement:</p>
<pre data-line="3,4,5,6" class="language-csdiff line-numbers"><code>protected override void OnLoad()
{
    if(v_Indicator == 1)
        OrderBy = Category.SortByCategoryID; 
    else
        OrderBy = Category.SortByCategoryName;
} </code></pre>
<p>In some cases - you can also use a <code>switch</code> Statement:</p>
<pre data-line="3,4,5,6,7,8,9,10,11" class="language-csdiff line-numbers"><code>protected override void OnLoad()
{
    switch((int)v_Indicator)
    {
        case 1:
            OrderBy = Category.SortByCategoryID; 
            break;
        default:
            OrderBy = Category.SortByCategoryName;
            break;
    }
} </code></pre>
<h3 id="you-can-also-do-the-same-with-the-bindorderby-method-for-uicontrollers">You can also do the same with the <code>BindOrderBy</code> method for UIControllers</h3>
<p>First - we don't need the index stuff - the <code>IndexOf</code> method is backward compatible to '1'Key in magic or the '1'Index in unipaas/xpa.
So this can be written:</p>
<pre data-line="3" class="language-csdiff line-numbers"><code>protected override void InitializeDataView()
{
    BindOrderBy(() =&gt; u.If(v_Indicator == 1,Category.SortByCategoryID, Category.SortByCategoryName));
} </code></pre>
<p>Also - I would much rather use an If statement:</p>
<pre data-line="3,4,5,6,7,8,9" class="language-csdiff line-numbers"><code>protected override void InitializeDataView()
{
    BindOrderBy(() =&gt; 
        {
           if(v_Indicator == 1)
               return Category.SortByCategoryID; 
           else
               return Category.SortByCategoryName;
        });
} </code></pre>
<p>In some cases - you can also use a Switch Statement:</p>
<pre data-line="3,4,5,6,7,8,9,10,11,12,13,14" class="language-csdiff line-numbers"><code>protected override void InitializeDataView()
{
    BindOrderBy(() =&gt; 
        {
           switch((int)v_Indicator)
           {
               case 1:
                   return Category.SortByCategoryID; 
                   break;
               default:
                   return Category.SortByCategoryName;
                   break;
           }
        });
} </code></pre>
<hr />
<p><strong>See Also:</strong></p>
<ul>
<li><a href="http://www.fireflymigration.com/reference/html/P_Firefly_Box_UIController_OrderBy.htm">UIController OrderBy</a></li>
<li><a href="http://www.fireflymigration.com/reference/html/P_Firefly_Box_BusinessProcess_OrderBy.htm">BusinessProcess OrderBy</a></li>
</ul>
<hr />

                    <br/>
                    <script src="//www.powr.io/powr.js?external-type=html"></script>
                    <div class="powr-hit-counter" id="11a1240c_1540358974"></div>
                    <br />
                    <a id="previousButton" class="btn btn-neutral float-left" style="visibility:hidden">Previous</a>

                    <a id="nextButton" class="btn btn-neutral" style="visibility:hidden;float:right">Next</a>
                    <hr />Help us improve,
                    <a href="https://github.com/FireflyMigration/firefly-doc/blob/master//20-Getting-Familiar-with-Migrated-Code/10-Comparing-Migrated-Code-with-Magic/Data-View/02-Main Source Index/02-Index-Expression.md" target="_blank">Edit this page on GitHub</a>
                    <br /> or email us at
                    <a href="mailto:info@fireflymigration.com?Subject=Firefly%20Documentation%20Website" target="_top">info@fireflymigration.com</a>
                </div>

                <!-- .content -->




            </div>
            <!-- .container-->

            <aside class="left-sidebar">
                <div class="wy-side-nav-search-ff">
                    <a href="" class="test">
                        <img src="assets/img/logo-big.png">
                    </a>
                </div>
                <div id="menuTree" </div>
            </aside>
            <!-- .left-sidebar -->

            <aside class="right-sidebar"></aside>
            <!-- .right-sidebar -->

            </div>
            <!-- .middle-->



        </div>


        <script src="assets/js/mermaid.js"></script>
        <script src="assets/js/prism-start.js"></script>
        <script src="assets/js/prism-clike.js"></script>
        <script src="assets/js/prism-markup.js"></script>
        <script src="assets/js/prism-css.js"></script>
        <script src="assets/js/prism-javascript.js"></script>

        <script src="assets/js/prism-diff.js"></script>
        <script src="assets/js/prism-csdiff.js"></script>
        <script src="assets/js/prism-function.js"></script>

        <script src="assets/js/jquery-3.1.1.js"></script>


        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-4806432-3', 'auto');
            ga('send', 'pageview');

        </script>
        <script src="assets/js/tree.js"></script>
        <script language="javascript">
            buildTree('menuTree', 'index-expression.html', 'previousButton', 'nextButton');
        </script>
</body>

</html>