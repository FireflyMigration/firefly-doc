<!DOCTYPE html>
<html lang="en" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" />
    <meta name="keywords" content="">

    <title>Sending a new Poco to the WebService</title>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/toc.css" />
    <link rel="stylesheet" href="assets/css/highlight.css" />
    <link rel="stylesheet" href="assets/css/prism.css" />
    <link rel="stylesheet" href="assets/css/prism-csdiff.css" />


    <link rel="stylesheet" href="assets/css/theme_firefly.css" />
    <link rel="stylesheet" href="assets/css/mermaid.css" />
</head>

<body class="markdown-body" role="document">
    <div class="wrapper" id="root">
        <div class="backdrop"></div>
        <div class="top-bar" role="navigation" aria-label="footer navigation">
            <div style="display:flex;">
                <div>
                    <a id="menu" class="btn btn-neutral">&#9776; </a>
                </div>
                <img src="assets/img/logo-big.png">
            </div>
            <div>
                <a id="previousButton" class="btn btn-neutral" style="visibility:hidden">Previous</a>
                <a id="nextButton" class="btn btn-neutral" style="visibility:hidden">Next</a>
            </div>
        </div>
        <div class="middle">

            <div class="container">

                <div class="content"><h1 id="sending-a-new-poco-to-the-webservice">Sending a new Poco to the WebService</h1>
<ul>
<li>On line 4-8 we create a new Order, using the OrderPoco that was automatically generated based on the WebService we use.</li>
<li>On line 10, we create a List of type OrderDetailsPoco, to which we'll add the individual <code>OrderDetailsPoco</code> objects</li>
<li>On line 11-16, we create the First <code>OrderDetailsPoco</code> object and add it to the <code>items</code> list.</li>
<li>On line 17-22, we create the second <code>ORderDetailsPoco</code> and add it to the <code>items</code> list</li>
<li>On line 23, we convert the list to an array using the <code>ToArray</code> method, and set the <code>Details</code> property of the <code>OrderPoco</code> object with that array.</li>
<li>On line 24, we send the OrderPoco to the WebService</li>
<li>On line 25, we request the Order back from the WebService</li>
<li>On line 26, we print the Order to verify that it was saved correctly</li>
</ul>
<pre data-line="4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26" class="language-csdiff line-numbers"><code>public void Run()
{
    var c = new OrderService.OrderServiceClient();
    var o = new OrderService.OrderPoco
    {
        OrderID = 20000,
        CustomerID = "NOAM"
    };

    var items = new List&lt;OrderService.OrderDetailsPoco&gt;();
    items.Add(new OrderService.OrderDetailsPoco
    {
        ProductID = 1,
        Quantity = 1,
        UnitPrice = 10
    });
    items.Add(new OrderService.OrderDetailsPoco
    {
        ProductID = 2,
        Quantity = 4,
        UnitPrice = 15
    });
    o.Details = items.ToArray();
    c.InsertOrUpdateOrder(o);
    var y = c.GetOrder(20000);
    PrintOrderToDebug(y);

} </code></pre>
<iframe width="560" height="315" src="https://www.youtube.com/embed/nAjJfCctpXU?list=PL1DEQjXG2xnIpyKeZmM66PL2bbuUyhyNE" frameborder="0" allowfullscreen></iframe>



                    <hr />Help us improve,
                    <a href="https://github.com/FireflyMigration/firefly-doc/blob/master//30-Maintaining-the-Migrated-Application/60-Further-Learning/40-Pocos-Xml-and-WebServices/12-Consuming-a-WebService/13-Sending-a-new-Poco-to-the-WebService.md" target="_blank">Edit this page on GitHub</a>
                    <br /> or email us at
                    <a href="mailto:info@fireflymigration.com?Subject=Firefly%20Documentation%20Website" target="_top">info@fireflymigration.com</a>
                </div>

                <!-- .content -->




            </div>
            <!-- .container-->

            <aside class="left-sidebar">
                <div class="wy-side-nav-search-ff">
                    <a href="" class="test">
                        
                    </a>
                </div>
                <div id="menuTree" </div>
            </aside>
            <!-- .left-sidebar -->

            <aside class="right-sidebar"></aside>
            <!-- .right-sidebar -->

            </div>
            <!-- .middle-->



        </div>


        <script src="assets/js/mermaid.js"></script>
        <script src="assets/js/prism-start.js"></script>
        <script src="assets/js/prism-clike.js"></script>
        <script src="assets/js/prism-markup.js"></script>
        <script src="assets/js/prism-css.js"></script>
        <script src="assets/js/prism-javascript.js"></script>

        <script src="assets/js/prism-diff.js"></script>
        <script src="assets/js/prism-csdiff.js"></script>
        <script src="assets/js/prism-function.js"></script>

        <script src="assets/js/jquery-3.1.1.js"></script>


        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-4806432-3', 'auto');
            ga('send', 'pageview');

        </script>
        <script src="assets/js/tree.js"></script>
        <script language="javascript">
            buildTree('menuTree', 'sending-a-new-poco-to-the-webservice.html', 'previousButton', 'nextButton');
        </script>
</body>

</html>