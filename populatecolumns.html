<!DOCTYPE html>
<html lang="en" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="utf-8" />
    <meta name="keywords" content="">

    <title>PopulateColumns</title>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/toc.css" />
    <link rel="stylesheet" href="assets/css/highlight.css" />
    <link rel="stylesheet" href="assets/css/prism.css" />
    <link rel="stylesheet" href="assets/css/prism-csdiff.css" />


    <link rel="stylesheet" href="assets/css/theme_firefly.css" />
    <link rel="stylesheet" href="assets/css/mermaid.css" />
</head>

<body class="markdown-body" role="document">
    <div class="wrapper">

        <div class="middle">

            <div class="container">

                <div class="content" role="navigation" aria-label="footer navigation">
                    <a id="previousButton" class="btn btn-neutral float-left" style="visibility:hidden">Previous</a>
                    <a id="nextButton" class="btn btn-neutral float-right" style="visibility:hidden">Next</a>
                </div>
                <div class="content"><h1 id="populatecolumns">PopulateColumns</h1>
<p>In Entities that have more than 50 columns you'll find the following code:</p>
<pre data-line="" class="language-csdiff line-numbers"><code>
/// &lt;summary&gt;Manualy attaches the columns to the entity. Used in tables with a lot of columns&lt;/summary&gt;
protected override void PopulateColumns()
{
    Columns.Add(...
} </code></pre>
<p>It is added to these entities due to performance considerations.</p>
<p><strong>For such entities, if you add a column you should also include it in <code>Columns.Add</code> call.</strong></p>
<h1 id="why-is-it-there">Why is it there?</h1>
<p>A column must be associated with an Entity to be considered and Entity Column and to be used in data related operations (select, update etc...)</p>
<p>Normally (For entities with 50 columns or less) the columns are associated with the Entity using an .NET mechanism called reflection.</p>
<p>For Example - if we have the following Entity:</p>
<pre data-line="" class="language-csdiff line-numbers"><code>public class Customers : Entity
{
    public NumberColumn Code = new NumberColumn("Code");
    public TextColumn CustomerName = new TextColumn("Customer Name");
    public Customers() : base("Customers", Shared.DataSources.Northwind)
    {
    }
} </code></pre>
<p>The default implementation of <code>PopulateColumns</code> (that is if you don't override it) will use reflection to figure out the columns in this class and automatically add the column to the column collection, using <code>Columns.Add</code></p>
<p>This &quot;reflection&quot; operation comes at a small cost. We found that in entities that have many columns this cost is too high (it's milliseconds but still) so we decided that entities that have more than 50 columns, will not use the &quot;reflection&quot; for populating the columns, instead for such entities the migrated code will generate the <code>Columns.Add</code> call instead - we do that call in the override of <code>PopulateColumns</code> where we &quot;override&quot; the default automatic reflection based mechanism with a manual one that is faster to execute.</p>
<h2 id="what-do-i-need-to-remember-from-this-article">What do I need to remember from this article</h2>
<p>If you have a Entity that has <code>PopulateColumns</code> and you are adding a column to it - make sure to add the new column to the <code>Columns.Add</code> call.</p>


                <br />
                        <a id="previousButton" class="btn btn-neutral float-left" style="visibility:hidden">Previous</a>

                        <a id="nextButton" class="btn btn-neutral" style="visibility:hidden;float:right">Next</a>
                    <hr />Help us improve,
                    <a href="https://github.com/FireflyMigration/firefly-doc/blob/master//20-Getting-Familiar-with-Migrated-Code/50-DataAccess/80-PopulateColumns.md" target="_blank">Edit this page on GitHub</a>
                    <br /> or email us at
                    <a href="mailto:info@fireflymigration.com?Subject=Firefly%20Documentation%20Website" target="_top">info@fireflymigration.com</a>
                </div>

                <!-- .content -->




            </div>
            <!-- .container-->

            <aside class="left-sidebar">
                <div class="wy-side-nav-search-ff">
                    <a href="" class="test">
                        <img src="assets/img/logo-big.png">
                    </a>
                </div>
                <div id="menuTree" </div>
            </aside>
            <!-- .left-sidebar -->

            <aside class="right-sidebar"></aside>
            <!-- .right-sidebar -->

            </div>
            <!-- .middle-->



        </div>


        <script src="assets/js/mermaid.js"></script>
        <script src="assets/js/prism-start.js"></script>
        <script src="assets/js/prism-clike.js"></script>
        <script src="assets/js/prism-markup.js"></script>
        <script src="assets/js/prism-css.js"></script>
        <script src="assets/js/prism-javascript.js"></script>

        <script src="assets/js/prism-diff.js"></script>
        <script src="assets/js/prism-csdiff.js"></script>
        <script src="assets/js/prism-function.js"></script>

        <script src="assets/js/jquery-3.1.1.js"></script>


        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-4806432-3', 'auto');
            ga('send', 'pageview');

        </script>
        <script src="assets/js/tree.js"></script>
        <script language="javascript">
            buildTree('menuTree', 'populatecolumns.html', 'previousButton', 'nextButton');
        </script>
</body>

</html>