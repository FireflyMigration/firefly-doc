<!DOCTYPE html>
<html lang="en" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="utf-8" />
    <meta name="keywords" content="">

    <title>Exercise - Migrated Style Parameters</title>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/toc.css" />
    <link rel="stylesheet" href="assets/css/highlight.css" />
    <link rel="stylesheet" href="assets/css/prism.css" />
    <link rel="stylesheet" href="assets/css/prism-csdiff.css" />


    <link rel="stylesheet" href="assets/css/theme_firefly.css" />
    <link rel="stylesheet" href="assets/css/mermaid.css" />
</head>

<body class="markdown-body" role="document">
    <div class="wrapper">

        <div class="middle">

            <div class="container">

                <div class="content" role="navigation" aria-label="footer navigation">
                    <a id="previousButton" class="btn btn-neutral float-left" style="visibility:hidden">Previous</a>
                    <a id="nextButton" class="btn btn-neutral float-right" style="visibility:hidden">Next</a>
                </div>
                <div class="content"><h1 id="exercise-migrated-style-parameters">Exercise - Migrated Style Parameters</h1>
<ol>
<li>Create a new UIController name it <strong>ShowCustomers</strong>.</li>
<li>Set the <strong>Customers</strong> Entity as the main table.</li>
<li>Add 2 <strong>local columns</strong>:
<ol>
<li>type <strong>NumberColumn</strong> name <strong>NumberOfOrders</strong>.</li>
<li>type <strong>NumberColumn</strong> name <strong>TotalFreight</strong>.</li>
</ol>
</li>
<li>Add these columns to the form <strong>(Do not use a grid)</strong>:
<ol>
<li>From <strong>Customers</strong>
<ol>
<li>CustomerID.</li>
<li>CompanyName.</li>
<li>ContactName.</li>
</ol>
</li>
<li><strong>Local</strong> column <strong>NumberOfOrders</strong>.</li>
<li><strong>Local</strong> column <strong>TotalFreight</strong>.</li>
</ol>
</li>
<li>Add a new menu entry and call <strong>ShowCustomers</strong>.</li>
<li>Save changes to Git.</li>
<li>Build and test.</li>
<li>Add a new <strong>BusinessProcess</strong> name it <strong>CalcTotalOrdersPerCustomer</strong>.</li>
<li>Set the <strong>Orders</strong> Entity as the main table.</li>
<li>Add 3 <strong>local columns</strong>:
<ol>
<li>type <strong>TextColumn</strong> name <strong>CustomerID</strong>.</li>
<li>type <strong>NumberColumn</strong> name <strong>NumberOfOrders</strong>.</li>
<li>type <strong>NumberColumn</strong> name <strong>TotalFreight</strong>.</li>
</ol>
</li>
<li>Add <strong>Where</strong> after the <strong>From</strong>, to show only records equal to the <strong>CustomerID</strong> local column.</li>
<li>In the <strong>Run</strong> method receive 3 Parameters and do:
<ol>
<li><strong>TextParameter</strong> name <strong>pCustomerID</strong> use the BindParameter method to connect the parameter and the local column <strong>CustomerID</strong>.</li>
<li><strong>NumberColumn</strong> name <strong>pNumberOfOrders</strong>.</li>
<li><strong>NumberParameter</strong> name <strong>pTotalFreight</strong> use the BindParameter method to connect the parameter and the local column <strong>TotalFreight</strong>.</li>
<li>After the call to <strong>Execute</strong>, update the <strong>pNumberOfOrders value</strong> with the local column <strong>NumberOfOrders</strong> value.</li>
</ol>
</li>
<li>Override the <strong>OnLeaveRow</strong>.</li>
<li>set <strong>NumberOfOrders value</strong> to increase by 1 for every row.</li>
<li>set <strong>TotalFreight value</strong> to accumulate the value of <strong>Freight</strong> column from the <strong>Orders</strong> table.</li>
<li>Save changes to Git.</li>
<li>Build and test the <strong>BusinessProcess</strong> using the <kbd>Shift</kbd><kbd>F3</kbd> send <strong>ANATR</strong> and check the <strong>Output</strong> panel for the results.</li>
<li>In <strong>ShowCustomers</strong> add a button to the screen, set the button text to <strong>Get Total Orders</strong>.</li>
<li>set the value of <strong>NumberOfOrders</strong> and <strong>TotalFreight</strong> to zero.<br />
This should be done before the call to <strong>CalcTotalOrdersPerCustomer</strong></li>
<li>Call the <strong>CalcTotalOrdersPerCustomer</strong> from the button <strong>click</strong> event and send the parameters.</li>
<li>Save changes to Git.</li>
<li>Build and test, notice that <strong>NumberOfOrders</strong> and <strong>TotalFreight</strong> are update with values when clicking the button.</li>
<li>In <strong>ShowCustomers</strong> view, find the call to <strong>CalcTotalOrdersPerCustomer</strong>.</li>
<li>Try to change the second parameters <strong>NumberOfOrders</strong> and send its <strong>Value</strong>, notice the error.</li>
<li>Cancel the last item change and try to do the same for <strong>TotalFreight</strong> notice that you will <strong>not</strong> get an error.</li>
<li>Save changes to Git.</li>
<li>Build and test, notice that <strong>TotalFreight</strong> is not update when you click the button.</li>
</ol>
<ul>
<li><a href="exercise-migrated-style-parameters-results.html">Exercise Migrated Style Parameters results</a></li>
</ul>


                <br />
                        <a id="previousButton" class="btn btn-neutral float-left" style="visibility:hidden">Previous</a>

                        <a id="nextButton" class="btn btn-neutral" style="visibility:hidden;float:right">Next</a>
                    <hr />Help us improve,
                    <a href="https://github.com/FireflyMigration/firefly-doc/blob/master//10-Developer-Guide/12_Migrated-Style-Parameters/04-Exercise-Migrated-Style-Parameters/index.md" target="_blank">Edit this page on GitHub</a>
                    <br /> or email us at
                    <a href="mailto:info@fireflymigration.com?Subject=Firefly%20Documentation%20Website" target="_top">info@fireflymigration.com</a>
                </div>

                <!-- .content -->




            </div>
            <!-- .container-->

            <aside class="left-sidebar">
                <div class="wy-side-nav-search-ff">
                    <a href="" class="test">
                        <img src="assets/img/logo-big.png">
                    </a>
                </div>
                <div id="menuTree" </div>
            </aside>
            <!-- .left-sidebar -->

            <aside class="right-sidebar"></aside>
            <!-- .right-sidebar -->

            </div>
            <!-- .middle-->



        </div>


        <script src="assets/js/mermaid.js"></script>
        <script src="assets/js/prism-start.js"></script>
        <script src="assets/js/prism-clike.js"></script>
        <script src="assets/js/prism-markup.js"></script>
        <script src="assets/js/prism-css.js"></script>
        <script src="assets/js/prism-javascript.js"></script>

        <script src="assets/js/prism-diff.js"></script>
        <script src="assets/js/prism-csdiff.js"></script>
        <script src="assets/js/prism-function.js"></script>

        <script src="assets/js/jquery-3.1.1.js"></script>


        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-4806432-3', 'auto');
            ga('send', 'pageview');

        </script>
        <script src="assets/js/tree.js"></script>
        <script language="javascript">
            buildTree('menuTree', 'exercise-migrated-style-parameters.html', 'previousButton', 'nextButton');
        </script>
</body>

</html>