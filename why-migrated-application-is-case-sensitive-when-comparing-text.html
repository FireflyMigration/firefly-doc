<!DOCTYPE html>
<html lang="en" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" />
    <meta name="keywords" content="">

    <title>The Scenario</title>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/toc.css" />
    <link rel="stylesheet" href="assets/css/highlight.css" />
    <link rel="stylesheet" href="assets/css/prism.css" />
    <link rel="stylesheet" href="assets/css/prism-csdiff.css" />


    <link rel="stylesheet" href="assets/css/theme_firefly.css" />
    <link rel="stylesheet" href="assets/css/mermaid.css" />
</head>

<body class="markdown-body" role="document">
    <div class="wrapper" id="root">
        <div class="backdrop"></div>
        <div class="top-bar" role="navigation" aria-label="footer navigation">
            <div style="display:flex;">
                <div>
                    <a id="menu" class="btn btn-neutral">&#9776; </a>
                </div>
                <img src="assets/img/logo-big.png">
            </div>
            <div>
                <a id="previousButton" class="btn btn-neutral" style="visibility:hidden">Previous</a>
                <a id="nextButton" class="btn btn-neutral" style="visibility:hidden">Next</a>
            </div>
        </div>
        <div class="middle">

            <div class="container">

                <div class="content"><h1 id="the-scenario">The Scenario</h1>
<p>We filter data by text and suddenly no rows are displayed. Surprisingly, when we run the same SQL directly on the database, it returns a lot or rows that match the filter criteria.
Further more, if we use the correct casing for the filter (i.e London), the application will happily display these rows.
For example, in Northwind application, we have a lot of order where the ship city is London. Let's try to filter by the uppercase text &quot;LONDON&quot;:</p>
<p><img src="2017-09-04_17h35_43.png" alt="2017 09 04 17H35 43" />
As you can see below, no rows are returned.
<img src="2017-09-04_17h36_51.png" alt="2017 09 04 17H36 51" /></p>
<p>However, let's take the original SQL statement and run it using the SQL Executer developer tool. As you can see, we get a lot of rows that match the filter.
<img src="2017-09-04_17h39_22.png" alt="2017 09 04 17H39 22" /></p>
<h2 id="so-why-is-the-application-case-sensitive-when-the-database-is-not">So, why is the application case sensitive when the Database is not?</h2>
<p>This is actually the behavior of the original application that was migrated to .NET. The migration to .NET must keep the same behavior of comparing texts.
If the original application was case sensitive, the .NET application will be just as sensitive.
Basically, the application validates the data that is returned from the server and exclude the rows that does not match the filter without ignoring casing.
Fortunately, it is very easy to change this behavior.</p>
<h2 id="solution-1-changing-behavior-for-a-specific-controller">Solution #1 - Changing behavior for a specific controller</h2>
<p>One way we can bypass the application revalidation of the filter is to change the Where clause of the controller to SQL Where:</p>
<p><img src="2017-09-04_17h49_03.png" alt="2017 09 04 17H49 03" /></p>
<h2 id="solution-2-globally-changeing-the-applicaiton-behavior">Solution #2 - Globally changeing the applicaiton behavior</h2>
<p>Another way to change this behavior of text compare globally is by calling the ENV.Common.SetAsCaseInsensitive() method in Program.Main()</p>
<p><img src="2017-09-04_17h51_07.png" alt="2017 09 04 17H51 07" /></p>
<p>Notice that this change the way the application compare texts, for example:
Before the change, the application is case sensitive so:
<img src="2017-09-04_17h59_36.png" alt="2017 09 04 17H59 36" /></p>
<p>After the change, the application is case insensitive so:
<img src="2017-09-04_17h58_46.png" alt="2017 09 04 17H58 46" /></p>



                    <hr />Help us improve,
                    <a href="https://github.com/FireflyMigration/firefly-doc/blob/master//20-Getting-Familiar-with-Migrated-Code/70-Why-Migrated-Application-is-Case-Sensitive-when-Comparing-Text/index.md" target="_blank">Edit this page on GitHub</a>
                    <br /> or email us at
                    <a href="mailto:info@fireflymigration.com?Subject=Firefly%20Documentation%20Website" target="_top">info@fireflymigration.com</a>
                </div>

                <!-- .content -->




            </div>
            <!-- .container-->

            <aside class="left-sidebar">
                <div class="wy-side-nav-search-ff">
                    <a href="" class="test">
                        
                    </a>
                </div>
                <div id="menuTree" </div>
            </aside>
            <!-- .left-sidebar -->

            <aside class="right-sidebar"></aside>
            <!-- .right-sidebar -->

            </div>
            <!-- .middle-->



        </div>


        <script src="assets/js/mermaid.js"></script>
        <script src="assets/js/prism-start.js"></script>
        <script src="assets/js/prism-clike.js"></script>
        <script src="assets/js/prism-markup.js"></script>
        <script src="assets/js/prism-css.js"></script>
        <script src="assets/js/prism-javascript.js"></script>

        <script src="assets/js/prism-diff.js"></script>
        <script src="assets/js/prism-csdiff.js"></script>
        <script src="assets/js/prism-function.js"></script>

        <script src="assets/js/jquery-3.1.1.js"></script>


        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-4806432-3', 'auto');
            ga('send', 'pageview');

        </script>
        <script src="assets/js/tree.js"></script>
        <script language="javascript">
            buildTree('menuTree', 'why-migrated-application-is-case-sensitive-when-comparing-text.html', 'previousButton', 'nextButton');
        </script>
</body>

</html>