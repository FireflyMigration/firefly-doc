<!DOCTYPE html>
<html lang="en" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" />
    <meta name="keywords" content="">

    <title>Adding a new project to a migrated solution</title>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/toc.css" />
    <link rel="stylesheet" href="assets/css/highlight.css" />
    <link rel="stylesheet" href="assets/css/prism.css" />
    <link rel="stylesheet" href="assets/css/prism-csdiff.css" />


    <link rel="stylesheet" href="assets/css/theme_firefly.css" />
    <link rel="stylesheet" href="assets/css/mermaid.css" />
</head>

<body class="markdown-body" role="document">
    <div class="wrapper" id="root">
        <div class="backdrop"></div>
        <div class="top-bar" role="navigation" aria-label="footer navigation">
            <div style="display:flex;">
                <div>
                    <a id="menu" class="btn btn-neutral">&#9776; </a>
                </div>
                <img src="assets/img/logo-big.png">
            </div>
            <div>
                <a id="previousButton" class="btn btn-neutral" style="visibility:hidden">Previous</a>
                <a id="nextButton" class="btn btn-neutral" style="visibility:hidden">Next</a>
            </div>
        </div>
        <div class="middle">

            <div class="container">

                <div class="content"><h1 id="adding-a-new-project-to-a-migrated-solution">Adding a new project to a migrated solution</h1>
<ol>
<li>Right click on the solution and add a new project of type &quot;Class Library&quot;, from the &quot;Windows Classic Desktop&quot; folder and call it <code>Northwind.ModuleName</code></li>
<li>Delete the class.cs - we don't need it.</li>
<li>In project settings:
<ol>
<li>Make sure that it has the same .NET framework version of the original app.</li>
<li>configure the Build &quot;Output path&quot; to: <code>..\bin\</code> for both Debug and release configuration.</li>
</ol>
</li>
<li>Add the project to the <code>msbuild.xml</code> file - so that it'll get included when you run the <code>BuildDebug.bat</code> and <code>BuildRelease.bat</code></li>
</ol>
<pre data-line="11" class="language-csdiff line-numbers"><code> &lt;?xml version="1.0" encoding="utf-8" ?&gt;
 &lt;Project DefaultTargets="Step4" xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="3.5"&gt;
    &lt;Target Name="Step1" DependsOnTargets=""&gt;
    &lt;MSBuild Projects=".\ENV\ENV.csproj;"  BuildInParallel="true"  StopOnFirstFailure="true"/&gt;
    &lt;/Target&gt;
    &lt;Target Name="Step2" DependsOnTargets="Step1"&gt;
    &lt;MSBuild Projects=".\NorthwindBase\NorthwindBase.csproj;"  BuildInParallel="true"  StopOnFirstFailure="true"/&gt;
    &lt;/Target&gt;
    &lt;Target Name="Step3" DependsOnTargets="Step2"&gt;
-   &lt;MSBuild Projects=".\Northwind.Customers\Northwind.Customers.csproj;.\Northwind.Products\Northwind.Products.csproj;.\Northwind.Orders\Northwind.Orders.csproj;"  BuildInParallel="true"  StopOnFirstFailure="true"/&gt;
    &lt;MSBuild Projects=".\Northwind.NewModule\Northwind.NewModule.csproj;.\Northwind.Customers\Northwind.Customers.csproj;.\Northwind.Products\Northwind.Products.csproj;.\Northwind.Orders\Northwind.Orders.csproj;"  BuildInParallel="true"  StopOnFirstFailure="true"/&gt;

    &lt;/Target&gt;
    &lt;Target Name="Step4" DependsOnTargets="Step3"&gt;
    &lt;MSBuild Projects=".\Northwind\Northwind.csproj;"  BuildInParallel="true"  StopOnFirstFailure="true"/&gt;
    &lt;/Target&gt;
  &lt;/Project&gt; </code></pre>
<ol start="5">
<li><p>Add references to:</p>
<ul>
<li>From the <code>Assemblies</code> tab:
<ol>
<li>System.Windows.Forms</li>
<li>System.Drawing</li>
</ol>
</li>
<li>From the <code>Browse</code> tab, select from the project's <code>bin</code> directory the following dlls:
<ol>
<li>ENV</li>
<li>Firefly.Box</li>
<li>NorthwindBase</li>
<li>(Northwind.Share for larger migrated solutions)</li>
</ol>
</li>
</ul>
</li>
<li><p>Add a reference to it where ever you need it, or for more complex scenarios, use the AbstractFactory pattern described in: <a href="http://doc.fireflymigration.com/calling-controllers-across-project-scopes.html">Calling Controllers across project scopes</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/b2oRTV-cYGE" frameborder="0" allowfullscreen></iframe>
</li>
</ol>



                    <hr />Help us improve,
                    <a href="https://github.com/FireflyMigration/firefly-doc/blob/master//30-Maintaining-the-Migrated-Application/Adding-a-new-project-to-a-migrated-solution/index.md" target="_blank">Edit this page on GitHub</a>
                    <br /> or email us at
                    <a href="mailto:info@fireflymigration.com?Subject=Firefly%20Documentation%20Website" target="_top">info@fireflymigration.com</a>
                </div>

                <!-- .content -->




            </div>
            <!-- .container-->

            <aside class="left-sidebar">
                <div class="wy-side-nav-search-ff">
                    <a href="" class="test">
                        
                    </a>
                </div>
                <div id="menuTree" </div>
            </aside>
            <!-- .left-sidebar -->

            <aside class="right-sidebar"></aside>
            <!-- .right-sidebar -->

            </div>
            <!-- .middle-->



        </div>


        <script src="assets/js/mermaid.js"></script>
        <script src="assets/js/prism-start.js"></script>
        <script src="assets/js/prism-clike.js"></script>
        <script src="assets/js/prism-markup.js"></script>
        <script src="assets/js/prism-css.js"></script>
        <script src="assets/js/prism-javascript.js"></script>

        <script src="assets/js/prism-diff.js"></script>
        <script src="assets/js/prism-csdiff.js"></script>
        <script src="assets/js/prism-function.js"></script>

        <script src="assets/js/jquery-3.1.1.js"></script>


        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-4806432-3', 'auto');
            ga('send', 'pageview');

        </script>
        <script src="assets/js/tree.js"></script>
        <script language="javascript">
            buildTree('menuTree', 'adding-a-new-project-to-a-migrated-solution.html', 'previousButton', 'nextButton');
        </script>
</body>

</html>